# Поиск похожих товаров с помощью FAISS

## Модель

Установить необходимые модули:

``` 
pandas
numpy 
faiss
matplotlib
seaborn
sklearn
```

Открыть ноутбук `model.ipynb` и выполнить все ячейки.

## Веб-сервис

Установка зависимостей:

``` 
pip install -r requirements
```

Предварительно нужно выполнить ноутбук, чтобы сгенерировался файл модели `model.index`, т.к. в репозиторий гитхаба он не помещается.

Запуск сервиса. Запускаться может долго, т.к. загружается BASE-датасет и масштабируются признаки.

``` 
flask --app server run
```

Открываем в адресной строке вот так: http://127.0.0.1:3002/recommend/3, где 3 - это идентификатор товара без `-base` суффикса.

Пример запроса с ошибкой: http://127.0.0.1:5000/recommend/12313123123213131

Ответ:

```json 
{
    "data": {
      "message": "Product 12313123123213131 is not found"
    },
    "status": "fail"
}
```

Пример запроса с товаром из базы: http://127.0.0.1:5000/recommend/66668

```json 
{
    "data": {
        "product_ids": [
            "30740-base",
            "159541-base",
            "543415-base",
            "2559004-base",
            "3205790-base"
        ]
    },
    "status": "success"
}
```